<div class="container-fluid jumbotron">
  <!-- <div class="form-horizontal" role="form"> -->

    <div class="form-group row hidden-print">
      <div class="row">
        <p class="col-sm-offset-2 col-sm-6" id="error" ng-bind="mainCtrl.errorMsg" ng-class="{ 'bg-danger' : mainCtrl.isErrorOccured }"/>
      </div>
      <div class="col-sm-offset-10 col-sm-2" style="text-align: right">
        <form class="form-horizontal" role="form">
        <button class="btn btn-primary" type="submit" ng-click="mainCtrl.logout()">abmelden</button>
          </form>
      </div>
    </div>
  </form>

  <div class="row hidden-print">
    <div id="groups" class="col-sm-4 hidden-print">
      <div class="form-group">
        <form class="form-horizontal" role="form">
          <input type="search" class="form-control" ng-model="mainCtrl.searchText">
          <span class="glyphicon glyphicon-search"></span>
        </form>
      </div>

      <table class="table">
        <thead>
        <!-- wrapp an label element around the checkbox, to omit ng-model and ng-click on the same element, because they have same priority and it can happen that the model is not updatet yet on the ng-click function -->
        <th class="col-sm-1"><label ng-click="mainCtrl.checkAll()"> <input type="checkbox"
                                                                           ng-model="mainCtrl.selectAll"></label></th>
        <th class="col-sm-6">Gruppe</th>
        <th class="col-sm-5">Typ</th>
        </thead>
        <tbody>
        <tr ng-repeat="group in mainCtrl.groups | filter: mainCtrl.searchText">
          <td class="col-sm-1"><label ng-click="mainCtrl.selectMembers()"> <input type="checkbox"
                                                                                  ng-model="group.selected"/></label>
          </td>
          <td class="col-sm-6"><span ng-bind="group.name"/></td>
          <td class="col-sm-5"><span ng-bind="group.group_type"/></td>
        </tr>
        </tbody>
      </table>
    </div>

    <div id="details" class="col-sm-offset-4 col-sm-4 hidden-print">
      <div class="form-group">
        <form class="form-horizontal" role="form">
          <input type="search" class="form-control" ng-model="mainCtrl.searchDetail">
          <span class="glyphicon glyphicon-search"></span>
        </form>
      </div>

      <table class="table">
        <thead>
        <!-- wrapp an label element around the checkbox, to omit ng-model and ng-click on the same element, because they have same priority and it can happen that the model is not updatet yet on the ng-click function -->
        <th class="col-sm-1"><label ng-click="mainCtrl.checkAllProperties()"> <input type="checkbox"
                                                                                     ng-model="mainCtrl.selectAllDetails"></label>
        </th>
        <th class="col-sm-6">Detail</th>
        </thead>
        <tbody>
        <tr ng-repeat="property in mainCtrl.memberProperties | filter: mainCtrl.searchDetail">
          <td class="col-sm-1"><input type="checkbox" ng-model="property.isShown"></td>
          <td class="col-sm-6"><span ng-bind="property.key"/></td>
        </tr>

        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div id="adress-list" class="col-sm-12">
      <div class="col-sm-10">
        <h4>Adress-Liste</h4>
      </div>
      <div class="col-sm-2" style="text-align: right">
        <form class="form-horizontal" role="form">
          <button class="btn btn-primary hidden-print" type="submit" onclick="window.print()">drucken</button>
          </form>
        </div>

        <table class="table">
          <thead>
          <th ng-show="mainCtrl.showProperty('picture')" />
          <th ng-repeat="property in mainCtrl.memberProperties" ng-show="mainCtrl.showProperty(property.key)"><span ng-bind="property.key"/></th>
          </thead>
          <tbody>
          <tr ng-repeat="member in mainCtrl.addressList">
            <td ng-show="mainCtrl.showProperty('picture')"><img ng-src="{{member.picture}}"/></td>
            <td ng-repeat="property in mainCtrl.memberProperties"
              ng-show="mainCtrl.showProperty(property.key)"><span ng-bind="member[property.key]"/></td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>
